"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[189],{189:(K,u,i)=>{i.r(u),i.d(u,{ClientModule:()=>W});var v=i(5547),e=i(5e3),m=i(2425),s=i(5827),l=i(9808),Z=i(6042),f=i(2643),h=i(2683);function x(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",4),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw().confirme(g)}),e._uU(9,"Confirmer"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.reference),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.date)}}let C=(()=>{class n{constructor(t){this.clientService=t}ngOnInit(){this.clientService.paddings().subscribe({next:t=>{console.log(t)},error:t=>{console.log(t)}})}confirme(t){this.clientService.confirmePayement(t).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirme-payement"]],decls:17,vars:3,consts:[[1,"my-3","text-dark-green","bold"],[3,"nzData","nzPageSize"],["nzTable",""],[4,"ngFor","ngForOf"],["nz-button","",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"h3",0),e._uU(2,"Mes paiements en attentes de confirmation"),e.qZA(),e.TgZ(3,"nz-table",1,2),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e.TgZ(7,"th"),e._uU(8,"R\xe9ference"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Type"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,x,10,3,"tr",3),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(4);e.xp6(3),e.Q6J("nzData",o.data)("nzPageSize",10),e.xp6(13),e.Q6J("ngForOf",a.data)}},directives:[s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,l.sg,Z.ix,f.dQ,h.w],styles:[""]}),n})();var z=i(7556),p=i(4521);let q=(()=>{class n{constructor(t,o,a){this.clientService=t,this.authService=o,this.router=a}ngOnInit(){this.client=this.clientService.getClient()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.y),e.Y36(z.e),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],decls:15,vars:3,consts:[[1,"col-md-6","m-auto","my-4","shadow-sm"],[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"d-inline-block","mb-2","text-primary"],[1,"mb-0"],[1,"mb-1","text-muted"],[1,"card-text","mb-auto"],[1,"stretched-link","shadow-sm","border","py-2","text-center","raduis-sm","lead",3,"click"],[1,"col-auto","d-none","d-lg-block"],["width","200","height","200","src","/assets/img/logo.png","alt","LOGO",1,"bd-placeholder-img"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"strong",3),e._uU(4,"Bienvenue sur tranchepay"),e.qZA(),e.TgZ(5,"h3",4),e._uU(6),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"p",6),e._uU(10,"This is a wider card with supporting text below as a natural lead-in to additional content."),e.qZA(),e.TgZ(11,"a",7),e.NdJ("click",function(){return o.logout()}),e._uU(12,"Se d\xe9connecter"),e.qZA(),e.qZA(),e.TgZ(13,"div",8),e._UZ(14,"img",9),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.AsE("",o.client.prenoms," ",o.client.nom,""),e.xp6(2),e.hij("+222 ",o.client.telephone,""))},styles:[".h-100[_ngcontent-%COMP%]{height:100%}.icon-md[_ngcontent-%COMP%]{font-size:30px}"]}),n})();var U=i(9082),T=i(6559);function b(n,r){if(1&n&&(e.TgZ(0,"p"),e.TgZ(1,"a",10),e._uU(2,"VOIR LE SITE "),e._UZ(3,"i",11),e.qZA(),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.s9C("href",t.site_web,e.LSH)}}function y(n,r){if(1&n&&(e.TgZ(0,"div",4),e.TgZ(1,"div",5),e._UZ(2,"img",6),e.TgZ(3,"div",7),e.TgZ(4,"h4",8),e._uU(5),e.qZA(),e.YNc(6,b,4,1,"p",9),e.qZA(),e.qZA(),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.s9C("src",t.logo_url,e.LSH),e.xp6(3),e.Oqu(t.nom),e.xp6(1),e.Q6J("ngIf",t.site_web)}}function F(n,r){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"nz-skeleton",13),e._UZ(2,"br"),e._UZ(3,"nz-skeleton",13),e._UZ(4,"br"),e._UZ(5,"nz-skeleton",13),e.qZA()),2&n&&(e.xp6(1),e.Q6J("nzActive",!0),e.xp6(2),e.Q6J("nzActive",!0),e.xp6(2),e.Q6J("nzActive",!0))}let O=(()=>{class n{constructor(t){this.pService=t,this.isLoad=!0}ngOnInit(){this.getPartenaires()}getPartenaires(){this.isLoad=!0,this.pService.partenaire().subscribe({next:t=>{this.partenaires=t,this.isLoad=!1},error:t=>{console.log(t)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-partenaires"]],decls:6,vars:1,consts:[[1,"text-dark-green","bold"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","col",4,"ngFor","ngForOf"],["loadData",""],[1,"col"],[1,"card","shadow-sm"],["width","100%","height","225",1,"bd-placeholder-img","card-img-top",3,"src"],[1,"card-body"],[1,"card-text","text-dark-green","bold"],[4,"ngIf"],[1,"text-dark-green","bold","btn","shadow-sm","border",3,"href"],[1,"bi","bi-link-45deg","bold"],[1,"container","w-100",2,"width","100%"],[3,"nzActive"]],template:function(t,o){1&t&&(e.TgZ(0,"h3",0),e._uU(1,"Nos Partenaires"),e.qZA(),e.TgZ(2,"div",1),e.YNc(3,y,7,3,"div",2),e.qZA(),e.YNc(4,F,6,3,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(3),e.Q6J("ngForOf",o.partenaires))},directives:[l.sg,l.O5,T.ng],styles:[""]}),n})();var L=i(7998),M=i(7105);let N=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demande-financement"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"demande-financement works!"),e.qZA())},styles:[""]}),n})();var c=i(3075),E=i(1912),J=i(5737),_=i(8481),d=i(4546),A=i(1894),S=i(1047),Q=i(2359);function D(n,r){if(1&n&&(e.TgZ(0,"h3",5),e._uU(1),e.qZA(),e.TgZ(2,"span"),e.TgZ(3,"nz-tag",6),e._uU(4),e.qZA(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.client.prenoms," ",t.client.nom," "),e.xp6(2),e.Q6J("nzColor","default"),e.xp6(1),e.hij(" ",t.etatCompte()," ")}}function I(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7),e.TgZ(2,"p",8),e._uU(3," D\xe9plofonner votre compte pour plus d'avantage. "),e.qZA(),e._UZ(4,"br"),e._UZ(5,"br"),e.TgZ(6,"div",9),e.TgZ(7,"form",10),e.TgZ(8,"nz-form-item",11),e.TgZ(9,"nz-form-label",12),e._uU(10,"Num\xe9ro CNI"),e.qZA(),e.TgZ(11,"nz-form-control",13),e._UZ(12,"input",14),e.qZA(),e.qZA(),e.TgZ(13,"nz-form-item",11),e.TgZ(14,"nz-form-label",12),e._uU(15,"CNI Recto"),e.qZA(),e.TgZ(16,"nz-form-control",15),e.TgZ(17,"input",16),e.NdJ("change",function(a){return e.CHM(t),e.oxw(2).recto(a)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"nz-form-item",11),e.TgZ(19,"nz-form-label",12),e._uU(20,"CNI Verso"),e.qZA(),e.TgZ(21,"nz-form-control",15),e.TgZ(22,"input",17),e.NdJ("change",function(a){return e.CHM(t),e.oxw(2).verso(a)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).save()}),e._uU(24,"Valider"),e.qZA(),e.qZA(),e._UZ(25,"br"),e._UZ(26,"br"),e._UZ(27,"br"),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("nzLayout","vertical")("formGroup",t.validateForm),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("maxLength",13),e.xp6(2),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(3),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(2),e.Q6J("disabled",!t.validateForm.valid||null==t.cniRecto||null==t.cniVerso)("nzLoading",t.isBtnLoad)}}function w(n,r){1&n&&e._UZ(0,"nz-alert",19),2&n&&e.Q6J("nzType","info")("nzMessage","Votre compte est d\xe9plafonn\xe9. Vous pouvez faire des commandes de plus de 200.000FCFA.")}function P(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"nz-divider",2),e.YNc(2,D,5,4,"ng-template",null,3,e.W1O),e.YNc(4,I,28,11,"ng-container",0),e.YNc(5,w,1,2,"ng-template",null,4,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.MAs(6),a=e.oxw();e.xp6(1),e.Q6J("nzText",t),e.xp6(3),e.Q6J("ngIf",0==a.client.deplafonner)("ngIfElse",o)}}function k(n,r){1&n&&(e.TgZ(0,"div",20),e.TgZ(1,"div",21),e._UZ(2,"nz-skeleton",22),e.qZA(),e.TgZ(3,"div",21),e._UZ(4,"nz-skeleton",22),e.qZA(),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"div",20),e.TgZ(7,"div",21),e._UZ(8,"nz-skeleton",22),e.qZA(),e.TgZ(9,"div",21),e._UZ(10,"nz-skeleton",22),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("nzActive",!0),e.xp6(2),e.Q6J("nzActive",!0),e.xp6(4),e.Q6J("nzActive",!0),e.xp6(2),e.Q6J("nzActive",!0))}let Y=(()=>{class n{constructor(t,o,a){this.clientService=t,this.fb=o,this.notification=a,this.isLoad=!0,this.isBtnLoad=!1}ngOnInit(){this.validateForm=this.fb.group({cni:[null,[c.kI.required,c.kI.pattern("^(1|2)[0-9]{12}$")]]}),this.findClient()}etatCompte(){return 0==this.client.deplafonner?"D\xe9plafonner votre compte":"Votre compte est d\xe9plafonner"}findClient(){this.isLoad=!0,this.clientService.findClient().subscribe({next:t=>{this.client=t,this.isLoad=!1},error:t=>{console.log(t)}})}recto(t){this.cniRecto=t.target.files[0]}verso(t){this.cniVerso=t.target.files[0]}save(){this.isBtnLoad=!0,this.clientService.deplafonnement(this.validateForm.value.cni,this.cniRecto,this.cniVerso).subscribe({next:t=>{this.notification.success("Notification",t.message),this.isBtnLoad=!1},error:t=>{console.log(t),this.isBtnLoad=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.y),e.Y36(c.qu),e.Y36(E.zb))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-deplafonnement"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"nzText"],["p_n",""],["deplafonner",""],[1,"text-dark-green"],[3,"nzColor"],[1,"row","text-center"],[1,"alert","text-dark-green","h3"],[1,"m-auto","col-5"],["nz-form","",1,"border","raduis-sm","p-4",3,"nzLayout","formGroup"],[1,"form-group","my-3"],["nzRequired","",3,"nzSpan"],["nzValidateStatus","","nzHasFeedback","","nzErrorTip","Donner un CNI valide!",3,"nzSpan"],["autocomplete","false","maxlength","13","type","text","nz-input","","formControlName","cni","id","cni","name","cni",1,"form-control","shadow-sm",3,"maxLength"],["nzHasFeedback","","nzErrorTip","Donner un CNI valide!",3,"nzSpan"],["type","file","id","recto",1,"form-control","shadow-sm",3,"change"],["type","file","id","verso",1,"form-control","shadow-sm",3,"change"],["nz-button","",1,"btn","submit-btn",3,"disabled","nzLoading","click"],[3,"nzType","nzMessage"],[1,"row"],[1,"col"],[3,"nzActive"]],template:function(t,o){if(1&t&&(e.YNc(0,P,7,3,"ng-container",0),e.YNc(1,k,11,4,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(2);e.Q6J("ngIf",!o.isLoad)("ngIfElse",a)}},directives:[l.O5,J.g,_.j,c._Y,c.JL,d.Lr,c.sg,A.SK,d.Nx,A.t3,d.iK,d.Fd,S.Zp,c.Fj,c.nD,c.JJ,c.u,Z.ix,f.dQ,h.w,Q.r,T.ng],styles:[""]}),n})();function R(n,r){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",5),e._uU(2),e.qZA(),e.TgZ(3,"td",5),e._uU(4),e.qZA(),e.TgZ(5,"td",3),e._uU(6),e.qZA(),e.TgZ(7,"td",3),e._uU(8),e.qZA(),e.TgZ(9,"td",3),e._uU(10),e.ALo(11,"date"),e.qZA(),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.reference),e.xp6(2),e.Oqu(t.via),e.xp6(2),e.hij("",t.montant," FCFA"),e.xp6(2),e.Oqu(t.commande.reference),e.xp6(2),e.Oqu(e.xi3(11,5,t.date_time,"d MMMM y"))}}let V=(()=>{class n{constructor(t){this.clientService=t,this.isLoad=!0}ngOnInit(){this.findAll()}findAll(){this.isLoad=!0,this.clientService.findVersements().subscribe({next:t=>{this.versements=t,this.isLoad=!1,console.log(t)},error:t=>{console.log(t),this.versements=[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-versement-list"]],decls:19,vars:3,consts:[[1,"my-3","text-dark-green","bold"],[3,"nzData","nzLoading"],["basicTable",""],[1,"text-dark-green"],[4,"ngFor","ngForOf"],[1,"bold","text-dark-green"]],template:function(t,o){if(1&t&&(e.TgZ(0,"h3",0),e._uU(1,"Mes versements"),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"nz-table",1,2),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e.TgZ(7,"th",3),e._uU(8,"REFERENCE"),e.qZA(),e.TgZ(9,"th",3),e._uU(10,"M\xc9THODE"),e.qZA(),e.TgZ(11,"th",3),e._uU(12,"MONTANT"),e.qZA(),e.TgZ(13,"th",3),e._uU(14,"COMMANDE"),e.qZA(),e.TgZ(15,"th",3),e._uU(16,"DATE"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,R,12,8,"tr",4),e.qZA(),e.qZA()),2&t){const a=e.MAs(4);e.xp6(3),e.Q6J("nzData",o.versements)("nzLoading",o.isLoad),e.xp6(15),e.Q6J("ngForOf",a.data)}},directives:[s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,l.sg],pipes:[l.uU],styles:[""]}),n})();var B=i(8498);function j(n,r){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",5),e.TgZ(2,"a",6),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td",5),e._uU(5),e.qZA(),e.TgZ(6,"td",5),e._uU(7),e.qZA(),e.TgZ(8,"td",5),e._uU(9),e.qZA(),e.TgZ(10,"td",5),e._uU(11),e.qZA(),e.TgZ(12,"td",5),e.TgZ(13,"nz-tag",7),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"td",5),e._uU(16),e.ALo(17,"date"),e.qZA(),e.qZA()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.MGl("routerLink","show/",t.id,""),e.xp6(1),e.Oqu(t.reference),e.xp6(2),e.hij("",t.prix_total," FCFA"),e.xp6(2),e.hij("",o.montantRestant(t)," FCFA"),e.xp6(2),e.hij("",t.commission," FCFA"),e.xp6(2),e.Oqu(t.boutique.nom),e.xp6(2),e.Q6J("nzColor",o.etatColor(t)),e.xp6(1),e.hij(" ",o.etatCommande(t)," "),e.xp6(2),e.Oqu(e.xi3(17,9,t.date_limite,"d MMMM y"))}}const X=[{path:"",pathMatch:"full",redirectTo:"commandes"},{path:"commandes",component:(()=>{class n{constructor(t){this.clientService=t,this.isLoad=!0}ngOnInit(){this.findAll()}findAll(){this.isLoad=!0,this.clientService.findCommandes().subscribe({next:t=>{this.commandes=t,console.log(this.commandes),this.isLoad=!1},error:t=>{console.error(t)}})}montantVerser(t){let o=0;return t.versements.forEach(a=>{o+=a.montant}),o}montantRestant(t){return+t.prix_total+ +t.commission-this.montantVerser(t)}etatCommande(t){let o="";switch(t.etat_commande.nom){case"append":o="EN ATTENTE";break;case"load":o="EN COURS";break;case"finish":o="TERMINER"}return o}etatColor(t){let o="green";switch(t.etat_commande.nom){case"append":o="red";break;case"load":o="gold"}return o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-commandes"]],decls:23,vars:3,consts:[[1,"my-3","text-dark-green","bold"],[3,"nzData","nzLoading"],["basicTable",""],[1,"bold","text-dark-green"],[4,"ngFor","ngForOf"],[1,"text-dark-green"],[1,"text-dark-green","bold",3,"routerLink"],[3,"nzColor"]],template:function(t,o){if(1&t&&(e.TgZ(0,"h3",0),e._uU(1,"Mes commandes"),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"nz-table",1,2),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e.TgZ(7,"th",3),e._uU(8,"REFERENCE"),e.qZA(),e.TgZ(9,"th",3),e._uU(10,"PRIX TOTAL"),e.qZA(),e.TgZ(11,"th",3),e._uU(12,"MONTANT RESTANT"),e.qZA(),e.TgZ(13,"th",3),e._uU(14,"COMMISSION"),e.qZA(),e.TgZ(15,"th",3),e._uU(16,"BOUTIQUE"),e.qZA(),e.TgZ(17,"th",3),e._uU(18,"ETAT"),e.qZA(),e.TgZ(19,"th",3),e._uU(20,"DATE LIMITE"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,j,18,12,"tr",4),e.qZA(),e.qZA()),2&t){const a=e.MAs(4);e.xp6(3),e.Q6J("nzData",o.commandes)("nzLoading",o.isLoad),e.xp6(19),e.Q6J("ngForOf",a.data)}},directives:[s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,l.sg,p.yS,_.j],pipes:[l.uU],styles:[""]}),n})()},{path:"commandes/show/:id",component:i(2809).K},{path:"versement-create",component:B.f},{path:"versement-list",component:V},{path:"deplafonnement",component:Y},{path:"demande-financement",component:N},{path:"coordonnees",component:q},{path:"securite",component:M.b},{path:"service-client",component:L.M},{path:"partenaires",component:O},{path:"payements",component:C}];let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(X)],p.Bz]}),n})(),W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[G,v.m]]}),n})()}}]);